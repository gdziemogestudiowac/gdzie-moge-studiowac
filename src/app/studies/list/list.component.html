<mat-expansion-panel *ngIf="superpowersEnabled">
  <mat-expansion-panel-header>
    <mat-panel-title>
      Dodaj kierunki
    </mat-panel-title>
    <mat-panel-description>
      Wybierz uczelnie, wydział (lub go dodaj) i dodaj kierunki
    </mat-panel-description>
  </mat-expansion-panel-header>

  <app-submit-studyfields
    [colleges]="colleges"
    (submit)="onSubmitStudyfields($event)"
  ></app-submit-studyfields>
</mat-expansion-panel>

<div *ngIf="superpowersEnabled">
  <button mat-button (click)="sortCollegesByDivisionsLen()">
    Sortuj po ilości wydziałów
  </button>
  <button mat-button (click)="showColleges = !showColleges">
    Przełącz pokazywanie uczelni
  </button>
</div>

<p *ngIf="colleges">
  Liczba uczelni: {{ colleges?.length }}, liczba kierunków:
  {{ getOverallStudiesCount() }}
</p>

<div
  (rotateend)="handleRotateEnd($event)"
  [style.touch-action]="'pan-y'"
  *ngIf="showColleges"
>
  <div *ngFor="let college of colleges">
    <span>
      <h4>
        {{ college.name }} ({{ college.type }}) (l. wydziałów:
        {{ college.divisions.length }})
      </h4>
    </span>
    <mat-card *ngFor="let division of college.divisions">
      <mat-card-subtitle>
        {{ division.division }} (l. kierunków: {{ division.studies.length }})
        <button
          mat-icon-button
          color="warn"
          *ngIf="superpowersEnabled"
          (click)="deleteDivision(college, division)"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </mat-card-subtitle>

      <mat-card-content>
        <mat-list dense *ngFor="let studyfield of division.studies">
          <mat-list-item>
            <mat-icon>arrow_right</mat-icon>
            {{ studyfield.name }} ({{ studyfield.mode }})
            <button
              mat-icon-button
              color="warn"
              *ngIf="superpowersEnabled"
              (click)="deleteStudyfield(division, studyfield)"
            >
              <mat-icon>delete</mat-icon>
            </button>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>

  <img
    src="assets/janpatii.jpg"
    *ngIf="superpowersEnabled"
    style="
        width: 100%;
        height: auto;
      "
  />
</div>
